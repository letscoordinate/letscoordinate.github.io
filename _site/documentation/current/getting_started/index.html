<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Let's Coordinate</title>
<link rel="shortcut icon" href=/assets/img/favicon.ico>

<link rel="stylesheet" href="/assets/css/main.css">

</head>
<body>
<div>
    <!-- Adapted from https://gist.github.com/pdarragh/c7ca120604c1a1d8b8de -->

    <!-- TODO Handle active page -->

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="/">
            <img alt="logo img" class="avatar" src="/assets/img/letsco-logo.png" alt=""/>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">
                
                

                

                <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                
                
                

                

                <li class="nav-item"><a class="nav-link" href="/documentation/current/getting_started/">Getting Started</a></li>
                
                
                

                
                <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="" id=Documentation role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Documentation</a>
                    <div class="dropdown-menu" aria-labelledby=Documentation>
                        
                        <a class="dropdown-item" href="/documentation/current/user_manual/">User manual</a>
                        
                        <a class="dropdown-item" href="/documentation/current/implementation_guide/">Implementation guide</a>
                        
                    </div>
                </li>
                
                
            </ul>
        </div>
    </nav>

</div>

<div class="container-lg px-3 my-5 markdown-body">
    <h1 id="lets-coordinate">Let’s Coordinate</h1>

<h2 id="requirements">Requirements</h2>

<ul>
  <li>Maven</li>
  <li>Java 8</li>
  <li>Docker</li>
  <li>NPM (6 or grater) and Angular CLI (8 or grater)</li>
  <li>Linux (<em>Tested on Ubuntu v18.04 and Fedora 29</em>)</li>
  <li>Having Operator Fabric running (<a href="https://opfab.github.io/documentation/current/getting_started/">https://opfab.github.io/documentation/current/getting_started/</a>)</li>
</ul>

<h2 id="run-lets-co">Run Let’s Co</h2>

<p>Position yourself in the root directory of this project and run the following command:</p>

<p><code class="language-plaintext highlighter-rouge">./bin/run_letscoos.sh</code></p>

<p>This will start running the docker containers Kafka (<em>port 9092</em>), Zookeeper (<em>port 2181</em>), MariaDB (<em>port 3306</em>), the Let’s Co data provider app. (<em>letsco-data-provider</em>) and the Let’s Co main application (<em>letsco-api</em>).</p>

<h4 id="prepare-the-operatorfabric-environment">Prepare the OperatorFabric environment</h4>

<p><em>1. Update the OpFab database</em></p>

<p>Position yourself in the root directory of this project and run the following command:</p>

<p><code class="language-plaintext highlighter-rouge">./test/prepare-opfab-env/prepare-opfab-env.sh</code></p>

<p>This will create a new group, a new entity, and a new user associated to this group and this entity in the operator-fabric database, and send the bundles to display the cards in OperatorFabric.</p>

<p><em>2. Add the user to keycloak</em></p>

<ul>
  <li>On your browser, go to the keycloak admin url: <a href="http://localhost:89/auth/">http://localhost:89/auth/</a></li>
  <li>Click on <em>Administration console</em></li>
  <li>Connect using the following credentials: <strong>user</strong> <em>admin</em>, <strong>password</strong> <em>admin</em></li>
  <li>In the left menu, go to <em>Users</em></li>
  <li>Click on <em>Add user</em></li>
  <li>Fill the <strong>Username</strong> field with <em>user.terna</em> and click on <em>Save</em></li>
  <li>Go to <em>Credentials</em></li>
  <li>Fill the password with whatever you want, put <em>Temporary</em> to <em>OFF</em> and click on <em>Reset Password</em></li>
</ul>

<h4 id="send-a-new-notification">Send a new notification</h4>

<ul>
  <li>Go to the following url: <a href="http://localhost:8082/swagger-ui.html">http://localhost:8082/swagger-ui.html</a></li>
  <li>Click on <em>kafka-producer-controller</em></li>
  <li>Click on <em>POST /letsco/data-provider/v1/kafka/json/raw-msg</em></li>
  <li>Click on <em>Try it out</em></li>
  <li>In the data body value, put the content of one of the files from the directory <code class="language-plaintext highlighter-rouge">messages_models/json/card_feed/</code> (e.g: <code class="language-plaintext highlighter-rouge">MessageValidated_NEGATIVE_ACK.json</code>, <code class="language-plaintext highlighter-rouge">ProcessSuccess.json</code>)</li>
  <li>Click on <em>Execute</em></li>
</ul>

<p>If you connect to OpFab (<a href="http://localhost:2002/ui/">http://localhost:2002/ui/</a>) with the user previously created in Keycloak, you should see the new card in the Feed.</p>

<h4 id="generate-an-rsc-kpi-report">generate an RSC KPI report</h4>

<blockquote>
  <p><strong><em>NOTE:</em></strong> To be able to see the RSC KPI Report page, you should have the <em>letsco-front</em> module running! to do so, change directory to the <em>letsco-front</em> module and execute the command: <code class="language-plaintext highlighter-rouge">ng serve</code></p>
</blockquote>

<ul>
  <li>Go to the following url: <a href="http://localhost:8082/swagger-ui.html">http://localhost:8082/swagger-ui.html</a></li>
  <li>Click on <em>kafka-producer-controller</em></li>
  <li>Click on <em>POST /letsco/data-provider/v1/kafka/json/raw-msg</em></li>
  <li>Click on <em>Try it out</em></li>
  <li>In the data body value, put the content of the file <code class="language-plaintext highlighter-rouge">messages_models/json/rsc_kpi_report/kpi_use_cases.json</code></li>
  <li>Click on <em>Execute</em></li>
  <li>connect to OpFab (<a href="http://localhost:2002/ui/">http://localhost:2002/ui/</a>) with the user previously created in Keycloak and then select the <em>“RSC KPI Report”</em> menu.</li>
  <li>select the <em>period</em>, <em>RSC</em>, <em>RSC Service</em> and <em>Data type</em> and then click the <em>submit</em> button, you should see the generated RSC KPI Report.</li>
</ul>

<h2 id="stop-the-application">Stop the application</h2>

<p>Position yourself in the root directory of this project and run the following command:</p>

<p><code class="language-plaintext highlighter-rouge">./bin/run_letscoos.sh stop</code></p>

<p>This will stop the <em>letsco-api</em> &amp; <em>letsco-data-provider</em> processes, and stop the docker services (<em>Kafka</em>, <em>Zookeeper</em>, <em>MariaDB</em>).</p>

</div>


<footer class="footer border-top border-gray-light mt-5 pt-3 text-center text-gray">
    <p class="text">Powered by <a href="https://jekyllrb.com/">Jekyll</a> and <a href="https://getbootstrap.com/">Bootstrap</a> </br>Copyright 2018-2020 Authors of <a href="https://github.com/letscoordinate/letscoordinate.github.io">Let’s Coordinate documentation</a>. Unless otherwise indicated, content is licensed under <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC-BY-4.0</a>. <br/>The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage/">Trademark Usage</a> page. Linux is a registered trademark of Linus Torvalds. <a href="https://www.linuxfoundation.org/privacy/">Privacy Policy</a> and <a href="https://www.linuxfoundation.org/terms/">Terms of Use</a>.
</p>
</footer>



<!-- Needed by bootstrap javascript -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>

<script src="/assets/js/bootstrap/bootstrap.js"></script>

</body>
</html>
